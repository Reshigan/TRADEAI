name = "tradeai-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

[vars]
ENVIRONMENT = "production"
MONGODB_DATA_SOURCE = "Cluster0"
MONGODB_DATABASE = "tradeai"
# MongoDB Atlas Data API URL - set via wrangler secret
# MONGODB_DATA_API_URL = "https://data.mongodb-api.com/app/data-xxxxx/endpoint/data/v1"
# MONGODB_API_KEY - set via wrangler secret

# R2 bucket for file storage
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "tradeai-storage"

# KV namespace for caching
[[kv_namespaces]]
binding = "CACHE"
id = "898dfed622044c399facd725f8815f55"

# D1 database (optional, for session storage)
# [[d1_databases]]
# binding = "DB"
# database_name = "tradeai-sessions"
# database_id = "placeholder"

[env.production]
vars = { ENVIRONMENT = "production" }

[env.staging]
vars = { ENVIRONMENT = "staging" }
